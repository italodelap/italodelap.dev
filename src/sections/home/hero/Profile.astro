---
import AnimatedLink from "@/components/AnimatedLink.astro";
import Available from "@/components/Available.astro";
import Card from "@/components/Card.astro";

import { basics, contactChannels } from "@/config/site.json";

import BrokenIcon from "@/icons/Broken.astro";
import EmailIcon from "@/icons/Email.astro";
import LinkedInIcon from "@/icons/LinkedIn.astro";
import GithubIcon from "@/icons/Github.astro";
import XIcon from "@/icons/X.astro";

interface Props {
  class?: string;
}

const { class: className } = Astro.props;

const CONTACT_CHANNEL_ICONS = {
  email: EmailIcon,
  linkedin: LinkedInIcon,
  github: GithubIcon,
  x: XIcon,
};
---

<Card
  class={`
    ${className ?? ""}
    flex flex-col justify-between items-start gap-3
  `}
>
  <img
    alt="Italo's photo"
    src={basics.profilePhoto}
    class="block xl:hidden rounded-full size-20"
  />
  <div class="grid gap-2 text-neutral-800 dark:text-neutral-300">
    <div class="grid">
      <span class="text-xl select-none hidden md:block">Hi, I'm</span>
      <h1 class="text-[2.6rem] font-bold leading-none">
        Italo De&nbsp;la&nbsp;Pe√±a
      </h1>
    </div>
    <span class="text-base text-neutral-700 dark:text-neutral-400">
      Frontend Developer at
      <a
        href="/experience/di-tella"
        class="underline underline-offset-2 transition-colors duration-300 hover:text-neutral-900 dark:hover:text-neutral-300"
      >
        UTDT
      </a>
    </span>
    <Available>Available for new projects</Available>
  </div>
  <div class="flex w-full gap-4">
    {
      contactChannels.map((contactChannel) => {
        const Icon =
          CONTACT_CHANNEL_ICONS[
            contactChannel.network as keyof typeof CONTACT_CHANNEL_ICONS
          ] ?? BrokenIcon;

        return (
          <AnimatedLink
            target="_blank"
            rel="noopener noreferrer"
            href={contactChannel.url}
            title={contactChannel.title}
            class="flex-1 p-4 duration-500 hover:shadow-lg hover:shadow-gray-600/50 dark:hover:shadow-gray-500/50"
          >
            <Icon class="aspect-square" />
          </AnimatedLink>
        );
      })
    }
  </div>
</Card>
